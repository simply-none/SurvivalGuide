(function(win,doc,$){if(win.mdn.features.localStorage){var ignore=localStorage.getItem("helpful-ignore")==="true";var helpfulnessAskedRecently=parseInt(localStorage.getItem("helpfulnessTracker"),10)>Date.now();var taskAskedRecently=parseInt(localStorage.getItem("taskTracker"),10)>Date.now();if(!ignore&&!taskAskedRecently&&!helpfulnessAskedRecently){inquire()}}function inquire(){mdn.analytics.setDimension({dimension:"dimension14",value:"Yes"});mdn.analytics.trackEvent({category:"survey",action:"prompt",value:"impression",nonInteraction:true});var path=encodeURIComponent(window.location.pathname);var clickTime=Date.now()+1e3*60*20;var surveyURL="https://www.surveygizmo.com/s3/2980494/do-or-do-not";var surveyLink=surveyURL+"?"+"&t="+clickTime+"&p="+path;var surveyAttributes="id='task-link' target='_blank' rel='noopener' href='"+surveyLink+"'";var ask=interpolate(gettext("Would you answer 4 questions for us? <a %(url)s>Open the survey in a new tab</a> and fill it out when you are done on the site. Thanks!"),{url:surveyAttributes},true);var notification=mdn.Notifier.growl(ask,{closable:true,duration:0}).question();localStorage.setItem("taskTracker",Date.now()+1e3*60*60*24*32);if(win.ga){ga(function(tracker){var clientId=tracker.get("clientId");surveyLink+="&c="+clientId;$("#task-link").attr("href",surveyLink)})}$("#task-link").on("click",function(){mdn.analytics.trackEvent({category:"survey",action:"prompt",value:"participate",nonInteraction:false});notification.success("We look forward to your feedback!",2e3)})}})(window,document,jQuery);
